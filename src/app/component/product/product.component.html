<div class="contentheader mt-2 ml-4 mr-4">
  <h3 class="text-center"><i class="fa fa-th" aria-hidden="true" style="margin-right: 5px;"></i> Foods Item</h3>
</div>
<!-- <ul class="breadcrumb ml-4 mr-4">
  <li><a href="#">Dashboard </a></li> /
  <li class="active"> Foods</li>
</ul> -->

<div style="margin-top: -19px; margin-bottom: 21px; margin-left: 20px; margin-right: 20px;">
  <!-- <a routerLink="../" href="#"><button class="btn btn-secondary btn-large" style="float: left;"><i class="fa fa-arrow-circle-left"
        aria-hidden="true"></i> Back</button></a> -->



  <div style="text-align:center;">
    Total Number of Foods: <font color="green" style="font:bold 22px 'Aleo';">[{{this.allProduct}}]</font>
  </div>

  <div style="text-align:center;">
    <font style="color:rgb(255, 95, 66);; font:bold 22px 'Aleo';">[{{this.bellowProduct}}]</font> Foods are below QTY of {{this.allProduct}}
  </div>
</div>
<a rel="facebox" href="#" data-bs-toggle="modal" data-bs-target="#exampleModal"><button type="submit"
    class="btn btn-success" style="float:right; width:186px; margin-right: 20px; height:35px;"><i
      aria-hidden="true"></i> Add Food</button></a>
<!-- table value start -->
<div class="card" style="margin-top: 4.5rem!important;">

  <table class="table table-bordered table-striped table-responsive mt-2 ml-3 bg-white">
    <thead class="text-center">
      <tr>
        <th scope="col">Food Code</th>
        <th scope="col">Food Name</th>
        <th scope="col">Supplier</th>

        <th scope="col">Date Received</th>
        <th scope="col">Expiry Date</th>
        <th scope="col">Original Price</th>
        <th scope="col">Selling Price</th>
        <th scope="col">Qty</th>
        <th scope="col">Qty Left</th>
        <th scope="col">Total</th>
        <th scope="col">Action</th>

      </tr>
    </thead>
    <tbody class="text-center">
      <ng-container  *ngFor="let item of productInfo; let i = index">
      <tr>
        <td>{{item.productId}}</td>
        <td>{{item.productName}}</td>
        <td>{{item.suppliers.supplierName}}</td>
        <td>{{item.manufactureDate}}</td>
        <td>{{item.expireDate}}</td>
        <td>{{item.originalPrice}}</td>
        <td>{{item.salePrice}}</td>
        <td>{{item.quantity}}</td>
        <td>{{item.qtyLeft}}</td>
        <td>720</td>
        <td style="cursor: pointer;">
          <button class="btn btn-warning"><i class="fa-solid fa-pen-to-square"></i></button>
          <button class="btn btn-danger" style="margin-left: 5px;" (click)="deleteProduct(item.id)"><i class="fa-solid fa-trash" ></i></button>
        </td>
        <!-- <td> {{item.paymentType}} </td>
            <td>
                <a >Generate Payslip</a>
            </td> -->
      </tr>
    </ng-container>

    </tbody>
  </table>
</div>


<!-- Modal -->

<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title text-center" id="exampleModalLabel"><i class="fa fa-plus-circle" aria-hidden="true"></i>
          Add Foods</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <form [formGroup]="formGroup">
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Food Code: </label>
              <input type="text" formControlName="foodCode" class="form-control" placeholder="Enter Food Code">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Food Name:&nbsp; </label>
              <input type="text" formControlName="foodName" class="form-control" placeholder="Enter Food Name">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Date Arrival: </label>
              <input type="date" formControlName="date1" class="form-control">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Expiry Date: </label>
              <input type="date" formControlName="date2" class="form-control">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Original Price: </label>
              <input type="text" formControlName="price" class="form-control" placeholder="Enter Food Original Price">
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Supplier</label>
              <select class="form-control" #id formControlName="supplier_id"
                (change)="onChangeServer($event, id.value)">
                <option value="">Select Supplier Name</option>
                <option *ngFor="let empId of supplierIds" [value]="empId[0]">{{empId[1]}}</option>
              </select>
            </div>
          </div>
          <div class="row">
            <div class="form-group">
              <label class="fw-bold">Quantity</label>
              <input type="text" formControlName="qty" class="form-control" placeholder="Enter Quantity">
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary" (click)="addProduct()">Add Food</button>
      </div>
    </div>
  </div>
</div>